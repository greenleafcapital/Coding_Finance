<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Creating Candlestick charts in R :: Coding Finance</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/post/2018-05-15-candlestick-chart-in-r/" />


<link rel="stylesheet" href="/assets/style.css">
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/assets/style.css">




<link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Creating Candlestick charts in R :: Coding Finance — " />
<meta name="twitter:description" content="library(tidyquant)library(plotly)Plotting S&amp;amp;P 500 etf (SPY) price data since March 1, 2019. We will use the below code to plot the chart using plotly.
spy_price &amp;lt;- tq_get(&amp;#39;SPY&amp;#39;,from = &amp;#39;2018-03-01&amp;#39;,to = &amp;quot;2018-05-15&amp;quot;,get = &amp;#39;stock.prices&amp;#39;)spy_price %&amp;gt;%plot_ly(x = ~date,type = &amp;#39;candlestick&amp;#39;,open = ~open,close = ~close,high = ~high,low = ~low) %&amp;gt;%layout(title = &amp;#39;SPY Price since March 2019&amp;#39;,xaxis = list(rangeslider = list(visible = F))){&#34;" />
<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="/img/default.jpg">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Creating Candlestick charts in R :: Coding Finance — ">
<meta property="og:description" content="" />
<meta property="og:url" content="/post/2018-05-15-candlestick-chart-in-r/" />
<meta property="og:site_name" content="Creating Candlestick charts in R" />
<meta property="og:image" content="/img/default.jpg">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-05-15 00:00:00 &#43;0000 UTC" />







</head>
<body>
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="/" style="text-decoration: none;">
  <div class="logo">
    
      <span class="logo__mark">></span>
      <span class="logo__text">coding finance</span>
      <span class="logo__cursor"></span>
    
  </div>
</a>
    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner">
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/code">Code</a></li>
    
  </ul>
</nav>
        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>        
        </span>
      
      <span class="theme-toggle">
        <svg class="bulb-off" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24"/>
  <path d="M4 19C4 19.55 4.45 20 5 20H9C9.55 20 10 19.55 10 19V18H4V19ZM7 0C3.14 0 0 3.14 0 7C0 9.38 1.19 11.47 3 12.74V15C3 15.55 3.45 16 4 16H10C10.55 16 11 15.55 11 15V12.74C12.81 11.47 14 9.38 14 7C14 3.14 10.86 0 7 0ZM9.85 11.1L9 11.7V14H5V11.7L4.15 11.1C2.8 10.16 2 8.63 2 7C2 4.24 4.24 2 7 2C9.76 2 12 4.24 12 7C12 8.63 11.2 10.16 9.85 11.1Z" transform="translate(5 2)" fill="black"/>
</svg>

<svg class="bulb-on" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24"/>
  <path class="bulb-on__base" d="M4 19C4 19.55 4.45 20 5 20H9C9.55 20 10 19.55 10 19V18H4V19Z" transform="translate(5 2)" fill="#a9a9b3" />
  <path class="bulb-on__glass" d="M0 7C0 3.14 3.14 0 7 0C10.86 0 14 3.14 14 7C14 9.38 12.81 11.47 11 12.74V15C11 15.55 10.55 16 10 16H4C3.45 16 3 15.55 3 15V12.74C1.19 11.47 0 9.38 0 7Z" transform="translate(5 2)" fill="#a9a9b3" />
</svg>
  
      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="/post/2018-05-15-candlestick-chart-in-r/">Creating Candlestick charts in R</a></h2>
    <div class="post-meta">
      <span class="post-date">
        5/15/2018
      </span>
      <span class="post-author">Written by DD</span>
    </div>

    

    

    <div class="post-content">
      
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<pre class="r"><code>library(tidyquant)
library(plotly)</code></pre>
<p>Plotting S&amp;P 500 etf (SPY) price data since March 1, 2019. We will use the below code to plot the chart using plotly.</p>
<pre class="r"><code>spy_price &lt;- tq_get(&#39;SPY&#39;,
                    from = &#39;2018-03-01&#39;,
                    to = &quot;2018-05-15&quot;,
                    get = &#39;stock.prices&#39;)

spy_price %&gt;%
  plot_ly(x = ~date,
          type = &#39;candlestick&#39;,
          open = ~open,
          close = ~close,
          high = ~high,
          low = ~low) %&gt;%
  layout(title = &#39;SPY Price since March 2019&#39;,
         xaxis = list(rangeslider = list(visible = F)))</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"1330707e2f47":["function () ","plotlyVisDat"]},"cur_data":"1330707e2f47","attrs":{"1330707e2f47":{"x":{},"open":{},"close":{},"high":{},"low":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"candlestick"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SPY Price since March 2019","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":false},"title":"date"},"yaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":["2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14"],"open":[271.410004,265.799988,267.730011,273.299988,270.420013,273.549988,275.700012,279.200012,279.839996,277.809998,275.880005,274.5,273.350006,270.940002,270.899994,267.910004,264.170013,262.130005,266.170013,260.75,261.119995,262.549988,258.869995,256.75,265.549988,263.420013,261.369995,264.269989,263.470001,265.26001,267.410004,267,269.329987,270.690002,269.649994,268.809998,267.26001,267.730011,262.910004,264.790009,267,267.26001,263.869995,264.76001,262.26001,261.519989,266.890015,266.5,267.679993,270.339996,272.160004,273.339996],"close":[267.700012,269.079987,272.190002,272.880005,272.779999,274.100006,278.869995,278.519989,276.720001,275.299988,275,274.200012,270.48999,270.950012,270.429993,263.670013,258.049988,265.109985,260.600006,259.829987,263.149994,257.470001,260.769989,263.559998,265.640015,259.720001,261,265.149994,263.76001,265.929993,265.149994,267.329987,270.190002,270.390015,268.890015,266.609985,266.570007,262.980011,263.630005,266.309998,266.559998,264.51001,264.980011,263.200012,262.619995,266.019989,266.920013,266.920013,269.5,272.019989,272.850006,272.980011],"high":[273.170013,269.720001,272.890015,273.390015,273.179993,274.23999,278.869995,279.910004,280.410004,278.019989,276.609985,275.390015,274.399994,271.670013,273.269989,268.869995,264.540009,265.429993,266.769989,262.640015,265.26001,263.130005,261.309998,264.359985,266.640015,265.109985,264.839996,266.040009,265.640015,267,267.540009,268.200012,270.869995,271.299988,269.880005,269.059998,267.890015,267.980011,264.130005,267.25,267.339996,267.890015,265.100006,265.679993,263.359985,266.790009,268.019989,267.329987,269.869995,272.390015,273.149994,274.079987],"low":[266,264.820007,267.609985,271.179993,270.200012,272.420013,275.339996,278.079987,276.029999,274.670013,274.429993,274.140015,268.619995,270.179993,270.190002,263.359985,257.829987,259.410004,258.839996,258.579987,259.839996,254.669998,256.839996,256.600006,264.320007,258,259.940002,262.980011,263.390015,265.059998,264.01001,266.070007,268.75,269.869995,267.720001,265.609985,265.350006,261.279999,260.850006,264.290009,265.5,264.429993,262.109985,262.76001,259.049988,261.149994,266.109985,265.149994,267.089996,270.220001,271.579987,272.359985],"type":"candlestick","line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <a class="btn next" href="/post/2018-05-15-candlestick-chart-in-python/">← Creating Candlestick charts in Python</a>
          
          
            <a class="btn previous" href="/post/2018-04-25-portfolio-beta-py/">How to calculate portfolio beta in Python →</a>
           
        </div>
      </div>
    
  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" style="text-decoration: none;">
  <div class="logo">
    
      <span class="logo__mark">></span>
      <span class="logo__text">coding finance</span>
      <span class="logo__cursor"></span>
    
  </div>
</a>
      
    
  </div>
</footer>


  <script src="/assets/main.js"></script>

  <script src="/assets/prism.js"></script>



  
</div>

</body>
</html>
