<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Creating Candlestick charts in R :: Coding Finance</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/post/2018-05-15-candlestick-chart-in-r/" />


<link rel="stylesheet" href="/assets/style.css">
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/assets/style.css">




<link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Creating Candlestick charts in R :: Coding Finance — " />
<meta name="twitter:description" content="library(tidyquant)library(plotly)Plotting S&amp;amp;P 500 etf (SPY) price data since March 1, 2019. We will use the below code to plot the chart using plotly.
spy_price &amp;lt;- tq_get(&amp;#39;SPY&amp;#39;,from = &amp;#39;2019-03-01&amp;#39;,get = &amp;#39;stock.prices&amp;#39;)spy_price %&amp;gt;%plot_ly(x = ~date,type = &amp;#39;candlestick&amp;#39;,open = ~open,close = ~close,high = ~high,low = ~low) %&amp;gt;%layout(title = &amp;#39;SPY Price since March 2019&amp;#39;,xaxis = list(rangeslider = list(visible = F))){&#34;" />
<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="/img/default.jpg">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Creating Candlestick charts in R :: Coding Finance — ">
<meta property="og:description" content="" />
<meta property="og:url" content="/post/2018-05-15-candlestick-chart-in-r/" />
<meta property="og:site_name" content="Creating Candlestick charts in R" />
<meta property="og:image" content="/img/default.jpg">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-05-15 00:00:00 &#43;0000 UTC" />







</head>
<body>
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="/" style="text-decoration: none;">
  <div class="logo">
    
      <span class="logo__mark">></span>
      <span class="logo__text">coding finance</span>
      <span class="logo__cursor"></span>
    
  </div>
</a>
    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner">
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/code">Code</a></li>
    
  </ul>
</nav>
        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>        
        </span>
      
      <span class="theme-toggle">
        <svg class="bulb-off" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24"/>
  <path d="M4 19C4 19.55 4.45 20 5 20H9C9.55 20 10 19.55 10 19V18H4V19ZM7 0C3.14 0 0 3.14 0 7C0 9.38 1.19 11.47 3 12.74V15C3 15.55 3.45 16 4 16H10C10.55 16 11 15.55 11 15V12.74C12.81 11.47 14 9.38 14 7C14 3.14 10.86 0 7 0ZM9.85 11.1L9 11.7V14H5V11.7L4.15 11.1C2.8 10.16 2 8.63 2 7C2 4.24 4.24 2 7 2C9.76 2 12 4.24 12 7C12 8.63 11.2 10.16 9.85 11.1Z" transform="translate(5 2)" fill="black"/>
</svg>

<svg class="bulb-on" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24"/>
  <path class="bulb-on__base" d="M4 19C4 19.55 4.45 20 5 20H9C9.55 20 10 19.55 10 19V18H4V19Z" transform="translate(5 2)" fill="#a9a9b3" />
  <path class="bulb-on__glass" d="M0 7C0 3.14 3.14 0 7 0C10.86 0 14 3.14 14 7C14 9.38 12.81 11.47 11 12.74V15C11 15.55 10.55 16 10 16H4C3.45 16 3 15.55 3 15V12.74C1.19 11.47 0 9.38 0 7Z" transform="translate(5 2)" fill="#a9a9b3" />
</svg>
  
      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="/post/2018-05-15-candlestick-chart-in-r/">Creating Candlestick charts in R</a></h2>
    <div class="post-meta">
      <span class="post-date">
        5/15/2018
      </span>
      <span class="post-author">Written by DD</span>
    </div>

    

    

    <div class="post-content">
      <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<pre class="r"><code>library(tidyquant)
library(plotly)</code></pre>
<p>Plotting S&amp;P 500 etf (SPY) price data since March 1, 2019. We will use the below code to plot the chart using plotly.</p>
<pre class="r"><code>spy_price &lt;- tq_get(&#39;SPY&#39;,
                    from = &#39;2019-03-01&#39;,
                    get = &#39;stock.prices&#39;)

spy_price %&gt;%
  plot_ly(x = ~date,
          type = &#39;candlestick&#39;,
          open = ~open,
          close = ~close,
          high = ~high,
          low = ~low) %&gt;%
  layout(title = &#39;SPY Price since March 2019&#39;,
         xaxis = list(rangeslider = list(visible = F)))</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"21e874ec6244":["function () ","plotlyVisDat"]},"cur_data":"21e874ec6244","attrs":{"21e874ec6244":{"x":{},"open":{},"close":{},"high":{},"low":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"candlestick"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SPY Price since March 2019","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":false},"title":"date"},"yaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":["2019-03-01","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-10","2019-06-11","2019-06-12","2019-06-13"],"open":[280.440002,281.600006,279.540009,279.149994,276.829987,272.940002,275.26001,279.059998,280.480011,281.369995,280.540009,281.549988,283.51001,282.160004,280.640015,283.220001,278.869995,280.98999,281.109985,280.350006,282.390015,284.700012,286.040009,287.320007,286.779999,287.920013,288.100006,287.720001,287.769989,288.829987,290,290.23999,290.950012,291.399994,290.100006,289.170013,290.679993,292.790009,292.119995,292.100006,293.51001,293.48999,294.720001,291.679993,292.820007,289.25,290.149994,287.529999,285.230011,285.619995,282.420013,281.98999,281.589996,285.839996,285.140015,284.059998,285.829987,285.450012,283.160004,283.73999,283.089996,278.910004,279.109985,276.200012,275.309998,277.119995,282.329987,283.290009,285.929993,289.369995,290.98999,288.640015,289.399994],"close":[280.420013,279.399994,279.019989,277.329987,275.01001,274.459991,278.440002,279.48999,281.339996,281.160004,281.309998,282.329987,282.399994,281.549988,284.730011,279.25,279.040009,281.119995,279.649994,280.709991,282.480011,285.829987,285.970001,286.420013,287.179993,288.570007,288.790009,287.309998,288.290009,288.209991,290.160004,289.970001,290.160004,289.450012,290.019989,290.269989,292.880005,292.230011,292.049988,293.410004,293.869995,294.019989,291.809998,291.179993,294.029999,292.820007,287.929993,287.529999,286.660004,288.100006,280.859985,283.399994,285.059998,287.700012,285.839996,283.950012,286.51001,285.630005,282.140015,282.779999,280.149994,278.269989,279.029999,275.269989,274.570007,280.529999,282.959991,284.799988,287.649994,288.970001,288.899994,288.390015,289.579987],"high":[280.880005,281.869995,279.76001,279.160004,276.98999,274.649994,278.619995,280.070007,282.380005,281.839996,282.209991,282.660004,284.359985,283.5,285.179993,283.799988,280.190002,282.179993,281.76001,281.209991,282.839996,286.160004,286.230011,287.76001,287.459991,288.630005,288.910004,288.079987,288.390015,288.839996,290.470001,290.350006,291.01001,291.429993,290.320007,290.440002,293.140015,293.160004,292.779999,293.48999,294.450012,294.339996,294.950012,292.700012,294.339996,293.309998,290.809998,289.429993,287.329987,288.940002,283.48999,285.100006,285.769989,289.209991,288.600006,285.959991,286.929993,286.690002,283.209991,284.200012,284.149994,279.359985,280.040009,277.119995,276.549988,280.679993,282.98999,285.549988,288.850006,290.820007,291.399994,289.26001,289.980011],"low":[278.820007,276.839996,278.410004,276.970001,274.070007,272.420013,275.230011,278.850006,280.299988,280.670013,280.329987,281.299988,281.410004,280.320007,280.589996,279.179993,277.640015,279.559998,277.929993,279.070007,281.140015,284.399994,285.089996,285.75,286.01001,287.600006,287.369995,286.700012,287.309998,287.579987,288.26001,289.079987,289.5,288.98999,288.660004,289.070007,290.420013,292.070007,290.730011,291.23999,293.410004,291.920013,291.799988,289.519989,291.299988,288.899994,285.809998,286.869995,283.299988,282.299988,279.929993,281.850006,281.359985,285.76001,285.119995,283.119995,285.549988,285.100006,280.570007,282.089996,280.130005,276.709991,277.809998,275.23999,273.089996,276.619995,280.320007,282.570007,285.73999,288.869995,288.179993,287.820007,288.619995],"type":"candlestick","line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
          
            <a class="btn previous" href="/post/2018-04-25-portfolio-beta-py/">How to calculate portfolio beta in Python →</a>
           
        </div>
      </div>
    
  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" style="text-decoration: none;">
  <div class="logo">
    
      <span class="logo__mark">></span>
      <span class="logo__text">coding finance</span>
      <span class="logo__cursor"></span>
    
  </div>
</a>
      
    
  </div>
</footer>


  <script src="/assets/main.js"></script>

  <script src="/assets/prism.js"></script>



  
</div>

</body>
</html>
